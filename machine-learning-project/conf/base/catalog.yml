# Here you can define all your datasets by using simple YAML syntax.
#
# Documentation for this file format can be found in "The Data Catalog"
# Link: https://docs.kedro.org/en/stable/data/data_catalog.html


# Aqui podemos definir estructuras donde
# nosotros podemos definir nuestros datasets
# usando una sintaxis simple de YAML.
# Con esto podemos llamar los datasets
# desde cualquier parte del proyecto.

DataSetFIFA22:
  type: pandas.CSVDataset
  filepath: data/01_raw/FIFA22_official_data.csv
  load_args:
    sep: ","
    decimal: "."
  save_args:
    index: False  
 
DataSetFIFA21:
  type: pandas.CSVDataset
  filepath: data/01_raw/FIFA21_official_data.csv
  load_args:
    sep: ","
    decimal: "."
  save_args:
    index: False

DataSetFIFA20:
  type: pandas.CSVDataset
  filepath: data/01_raw/FIFA20_official_data.csv
  load_args:
    sep: ","
    decimal: "."
  save_args:
    index: False

# Pasos siguientes:
#Aqui estan el dataset ya preprocesado
# de FIFA 21, se debe crear los otros dos
preprocess_fifa_22:
  type: pandas.ParquetDataset # Ahora definimos que la salida sea tipo parquet para que sea mas liviano 
  filepath: data/02_intermediate/preprocess_fifa_22.parquet     

preprocess_fifa_21:
  type: pandas.ParquetDataset # Ahora definimos que la salida sea tipo parquet para que sea mas liviano 
  filepath: data/02_intermediate/preprocess_fifa_21.parquet     

preprocess_fifa_20:
  type: pandas.ParquetDataset # Ahora definimos que la salida sea tipo parquet para que sea mas liviano 
  filepath: data/02_intermediate/preprocess_fifa_20.parquet 



FIFA22_processed_con_transformacion2_columns:
  type: pandas.ParquetDataset 
  filepath: data/02_intermediate/FIFA22_processed_con_transformacion2_columns.parquet  

FIFA21_processed_con_transformacion2_columnss:
  type: pandas.ParquetDataset
  filepath: data/02_intermediate/FIFA21_processed_con_transformacion2_columns.parquet

FIFA20_processed_con_transformacion2_columns:
  type: pandas.ParquetDataset 
  filepath: data/02_intermediate/FIFA20_processed_con_transformacion2_columns.parquet  

model_input_table:
  type: pandas.ParquetDataset 
  filepath: data/03_primary/model_input_table.parquet #lo definimos en primary porque ya tendremos nuestros datasets unidos

  # Para report utilizar la libreria plotlib al utilizar Kedro viz

#Etapa modeloado 

#Ahora que en el primero nodo del pipeline de modelado regression_models
#No tiene una salida de tipo pandas porque es un diccionario
#Entonces definimos un nuevo dataset de tipo PickleDataset


#GridSearchCV modelo
# versioned: true para versionar los modelos o guardarlos con versiones

# GridSearchCV modelos
grid_linear_model:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_linear_model.pkl
  versioned: true

grid_linear_multiple_model:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_linear_multiple_model.pkl
  versioned: true

grid_svr_model:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_svr_model.pkl
  versioned: true

grid_decision_tree_model:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_decision_tree_model.pkl
  versioned: true

grid_randomforest_model:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_randomforest_model.pkl
  versioned: true


#Salidas de los modelos entrenados de clasificación

grid_logistic_model_classification:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_logistic_model_classification.pkl
  versioned: true

grid_knn_model_classification:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_knn_model_classification.pkl
  versioned: true

grid_xgboost_model_classification:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_xgboost_model_classification.pkl
  versioned: true

grid_decision_tree_model_classification:
  type: pickle.PickleDataset
  filepath: data/06_models/grid_decision_tree_model_classification.pkl  
  versioned: true

grid_random_forest_model_classification:  
  type: pickle.PickleDataset 
  filepath: data/06_models/grid_random_forest_model_classification.pkl
  versioned: true

# Datos de test guardados desde el pipeline de modelado para REPORTT de regresion
X_train_regression:
  type: pandas.CSVDataset
  filepath: data/03_primary/X_train_regression.csv
  save_args:
    index: False

X_test_regression:
  type: pandas.CSVDataset
  filepath: data/03_primary/X_test_regression.csv
  save_args:
    index: False

y_test_regression:
  type: pandas.CSVDataset
  filepath: data/03_primary/y_test_regression.csv
  save_args:
    index: False

# los de classi

# -- Features de entrenamiento y prueba --
X_train_class:
  type: pandas.CSVDataset
  filepath: data/03_primary/X_train_class.csv
  save_args:
    index: False

X_test_class:
  type: pandas.CSVDataset
  filepath: data/03_primary/X_test_class.csv
  save_args:
    index: False

# -- Target de entrenamiento y prueba --

y_train_class:
  type: pandas.CSVDataset
  filepath: data/03_primary/y_train_class.csv
  save_args:
    index: False

y_test_class:
  type: pandas.CSVDataset
  filepath: data/03_primary/y_test_class.csv
  save_args:
    index: False


#report regresion
regression_report_linear_simple:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_linear_simple.csv
  versioned: true

regression_report_linear_multiple:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_linear_multiple.csv
  versioned: true

regression_report_svr:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_svr.csv
  versioned: true

regression_report_decision_tree:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_decision_tree.csv
  versioned: true

regression_report_randomforest:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_randomforest.csv
  versioned: true

# Reportes clasificación
regression_report_logistic_model_classification:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_logistic_model_classification.csv
  versioned: true

regression_report_knn_model_classification:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_knn_model_classification.csv
  versioned: true

regression_report_xgboost_model_classification:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_xgboost_model_classification.csv
  #versioned: true
  load_args:
    version: None  

regression_report_decision_tree_model_classification:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_decision_tree_model_classification.csv
  versioned: true

regression_report_random_forest_model_classification:
  type: pandas.CSVDataset
  filepath: data/08_reporting/regression_report_random_forest_model_classification.csv
  versioned: true
